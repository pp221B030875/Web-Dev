{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../company.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = function (a1) {\n  return [\"/api/companies\", a1];\n};\nfunction CompaniesComponent_li_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 5);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 6);\n    i0.ɵɵtext(4, \"All vacancies\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 7);\n    i0.ɵɵtext(6, \"Details\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const company_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(4, _c0, company_r1.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", company_r1.id, \" \", company_r1.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"onclick\", \"window.location.href='/api/companies/\", company_r1.id, \"/vacancies';\");\n  }\n}\nexport class CompaniesComponent {\n  constructor(service) {\n    this.service = service;\n    this.companies = [];\n    this.newCompany = \"\";\n  }\n  ngOnInit() {\n    this.service.getCompanies().subscribe(companies => {\n      this.companies = companies;\n    });\n    console.log(this.companies);\n  }\n  addCompany() {\n    const company = {\n      title: this.newCompany\n    };\n    // @ts-ignore\n    this.service.addCompany(company).subscribe(company => {\n      console.log(company);\n      // @ts-ignore\n      this.company.unshift(company);\n    });\n  }\n  deleteCompany(id) {\n    //@ts-ignore\n    this.company = this.companies.filter(x => x.id !== id);\n    this.service.deleteCompany(id).subscribe(() => {\n      console.log('deleted', id);\n    });\n  }\n}\nCompaniesComponent.ɵfac = function CompaniesComponent_Factory(t) {\n  return new (t || CompaniesComponent)(i0.ɵɵdirectiveInject(i1.CompanyService));\n};\nCompaniesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CompaniesComponent,\n  selectors: [[\"app-companies\"]],\n  decls: 13,\n  vars: 1,\n  consts: [[1, \"header\"], [\"type\", \"button\", \"value\", \"Back\", \"onclick\", \"history.back()\"], [\"src\", \"/assets/logo.jpg\", \"id\", \"logo\"], [\"href\", \"http://127.0.0.1:8000/api/create?type=vacancy\"], [4, \"ngFor\", \"ngForOf\"], [3, \"routerLink\"], [3, \"onclick\"], [\"onclick\", \"window.location.href='/api/companies/company.id';\"]],\n  template: function CompaniesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\");\n      i0.ɵɵelement(2, \"input\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(3, \"img\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"h1\");\n      i0.ɵɵtext(5, \"Company list\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"br\");\n      i0.ɵɵelementStart(7, \"h2\")(8, \"a\", 3);\n      i0.ɵɵtext(9, \"Create Vacancy\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(10, \"br\");\n      i0.ɵɵelementStart(11, \"ul\");\n      i0.ɵɵtemplate(12, CompaniesComponent_li_12_Template, 7, 6, \"li\", 4);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngForOf\", ctx.companies);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.RouterLink, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm],\n  styles: [\"*[_ngcontent-%COMP%]{\\r\\n  margin:0;\\r\\n  padding:0;\\r\\n  box-sizing:border-box;\\r\\n  \\r\\n  list-style-type: none;\\r\\n  font-family: 'Alegreya';\\r\\n\\r\\n}\\r\\n#logo[_ngcontent-%COMP%]{\\r\\n  width:170px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcGFuaWVzL2NvbXBhbmllcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsUUFBUSxDQUFDLHVDQUF1QztFQUNoRCxTQUFTO0VBQ1QscUJBQXFCLENBQUM7Ozs7OztzQ0FNYztFQUNwQyx3QkFBd0I7RUFDeEIscUJBQXFCO0VBQ3JCLHVCQUF1Qjs7QUFFekI7QUFDQTtFQUNFLFdBQVc7QUFDYiIsInNvdXJjZXNDb250ZW50IjpbIip7XHJcbiAgbWFyZ2luOjA7LypvdmVyYWxsIG1hcmdpbiBvZiAwIGZvciB0aGUgZG9jdW1lbnQqL1xyXG4gIHBhZGRpbmc6MDtcclxuICBib3gtc2l6aW5nOmJvcmRlci1ib3g7LyogLiBJdCBndWFyYW50ZWVzIHRoYXQgdGhlIGNvbnRlbnQgYm94XHJcbiAgICAgc2hyaW5rcyB0byBtYWtlIHNwYWNlIGZvciB0aGUgcGFkZGluZ1xyXG5cclxuICAgICBhbmQgYm9yZGVycy4gVGhlcmVmb3JlLCBpZiB5b3Ugc2V0IHlvdXJcclxuICAgICAgZWxlbWVudCB3aWR0aCB0byAyMDAgcGl4ZWxzLCBib3JkZXItYm94XHJcbiAgICAgIG1ha2VzIHN1cmUgdGhhdCB0aGUgY29udGVudCwgcGFkZGluZyxcclxuICAgICAgYW5kIGJvcmRlcnMgZml0IGluIHRoaXMgbnVtYmVyLiovXHJcbiAgLypib3JkZXI6cmVkIHNvbGlkIDFweDsqL1xyXG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcclxuICBmb250LWZhbWlseTogJ0FsZWdyZXlhJztcclxuXHJcbn1cclxuI2xvZ297XHJcbiAgd2lkdGg6MTcwcHg7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;IAiBEA,0BAAsC;IAElCA,YACF;IAAAA,iBAAI;IACNA,iCAAkF;IAAAA,6BAAa;IAAAA,iBAAS;IACxGA,iCAAoE;IAAAA,uBAAO;IAAAA,iBAAS;;;;IAJ/EA,eAA6C;IAA7CA,sEAA6C;IAC9CA,eACF;IADEA,oEACF;IACMA,eAAyE;IAAzEA,4GAAyE;;;ACZnF,OAAM,MAAOC,kBAAkB;EAI7BC,YAAoBC,OAAuB;IAAvB,YAAO,GAAPA,OAAO;IAH3B,cAAS,GAAc,EAAE;IAEzB,eAAU,GAAQ,EAAE;EACyB;EAC7CC,QAAQ;IAEN,IAAI,CAACD,OAAO,CAACE,YAAY,EAAE,CAACC,SAAS,CAAEC,SAAS,IAAG;MACjD,IAAI,CAACA,SAAS,GAAGA,SAAS;IAC5B,CAAC,CAAC;IACFC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACF,SAAS,CAAC;EAC7B;EAGAG,UAAU;IACR,MAAMC,OAAO,GAAC;MACZC,KAAK,EAAE,IAAI,CAACC;KACb;IACD;IACA,IAAI,CAACV,OAAO,CAACO,UAAU,CAACC,OAAkB,CAAC,CAACL,SAAS,CAAEK,OAAO,IAAG;MAC/DH,OAAO,CAACC,GAAG,CAACE,OAAO,CAAC;MACpB;MACA,IAAI,CAACA,OAAO,CAACG,OAAO,CAACH,OAAO,CAAC;IAC/B,CAAC,CAAC;EACJ;EAEAI,aAAa,CAACC,EAAU;IACtB;IACA,IAAI,CAACL,OAAO,GAAC,IAAI,CAACJ,SAAS,CAACU,MAAM,CAAEC,CAAC,IAAGA,CAAC,CAACF,EAAE,KAAGA,EAAE,CAAC;IAClD,IAAI,CAACb,OAAO,CAACY,aAAa,CAACC,EAAE,CAAC,CAACV,SAAS,CAAC,MAAI;MAC3CE,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEO,EAAE,CAAC;IAC5B,CAAC,CAAC;EACJ;;AAhCWf,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;QAAlBA,kBAAkB;EAAAkB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDT/BvB,8BAAoB;MAEhBA,2BAA2D;MAC7DA,iBAAO;MACPA,yBAAsC;MACxCA,iBAAM;MAENA,0BAAI;MAAAA,4BAAY;MAAAA,iBAAK;MACrBA,qBAAI;MACJA,0BAAI;MAAwDA,8BAAc;MAAAA,iBAAI;MAC9EA,sBAAI;MAMJA,2BAAI;MACFA,mEAMK;MACPA,iBAAK;;;MAPqBA,gBAAY;MAAZA,uCAAY","names":["i0","CompaniesComponent","constructor","service","ngOnInit","getCompanies","subscribe","companies","console","log","addCompany","company","title","newCompany","unshift","deleteCompany","id","filter","x","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\Other\\WebDev\\hhfront\\src\\app\\companies\\companies.component.html","D:\\Other\\WebDev\\hhfront\\src\\app\\companies\\companies.component.ts"],"sourcesContent":["<div class=\"header\">\n  <form>\n    <input type=\"button\" value=\"Back\" onclick=\"history.back()\">\n  </form>\n  <img src=\"/assets/logo.jpg\" id=\"logo\">\n</div>\n\n<h1>Company list</h1>\n<br>\n<h2><a href=\"http://127.0.0.1:8000/api/create?type=vacancy\">Create Vacancy</a></h2>\n<br>\n<!--<fieldset>-->\n<!--  <input type=\"text\" [(ngModel)]=\"newCompany\">-->\n<!--  <button (click)=\"addCompany()\">Add company</button>-->\n<!--</fieldset>-->\n\n<ul>\n  <li *ngFor=\"let company of companies\">\n    <a [routerLink]=\"['/api/companies', company.id]\">\n      {{company.id}} {{company.name}}\n    </a>\n  <button onclick=\"window.location.href='/api/companies/{{company.id}}/vacancies';\">All vacancies</button>\n  <button onclick=\"window.location.href='/api/companies/company.id';\">Details</button>\n  </li>\n</ul>\n","import { Component, OnInit } from '@angular/core';\nimport { Company } from '../models';\nimport { CompanyService } from '../company.service';\n\n@Component({\n  selector: 'app-companies',\n  templateUrl: './companies.component.html',\n  styleUrls: ['./companies.component.css']\n})\nexport class CompaniesComponent implements OnInit{\n  companies: Company[] = [];\n  company_id : number;\n  newCompany:string=\"\";\n  constructor(private service: CompanyService){}\n  ngOnInit(){\n\n    this.service.getCompanies().subscribe((companies)=>{\n      this.companies = companies\n    })\n    console.log(this.companies)\n  }\n\n\n  addCompany(){\n    const company={\n      title: this.newCompany\n    };\n    // @ts-ignore\n    this.service.addCompany(company as Company).subscribe((company)=>{\n      console.log(company);\n      // @ts-ignore\n      this.company.unshift(company);\n    })\n  }\n\n  deleteCompany(id: number){\n    //@ts-ignore\n    this.company=this.companies.filter((x)=>x.id!==id)\n    this.service.deleteCompany(id).subscribe(()=>{\n      console.log('deleted', id);\n    })\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}