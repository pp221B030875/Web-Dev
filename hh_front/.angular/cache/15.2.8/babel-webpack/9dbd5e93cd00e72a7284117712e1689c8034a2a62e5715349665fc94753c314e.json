{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../vacancy.service\";\nimport * as i2 from \"@angular/common\";\nfunction VacanciesComponent_li_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function VacanciesComponent_li_7_Template_button_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const vacancy_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteVacancy(vacancy_r1.id));\n    });\n    i0.ɵɵtext(3, \"X\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const vacancy_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", vacancy_r1.id, \" - \", vacancy_r1.name, \" \");\n  }\n}\nexport class VacanciesComponent {\n  constructor(service) {\n    this.service = service;\n    this.vacancies = [];\n    this.newVacancy = \"\";\n  }\n  ngOnInit() {\n    this.service.getVacancies().subscribe(vacancies => {\n      this.vacancies = vacancies;\n      console.log(vacancies);\n    });\n  }\n  addVacancy() {\n    if (this.newVacancy.length) {\n      this.service.createVacancy(this.newVacancy).subscribe(vacancy => {\n        this.vacancies.push(vacancy);\n        this.newVacancy = '';\n      });\n    }\n  }\n  deleteVacancy(vacancy_id) {\n    this.service.deleteVacancy(vacancy_id).subscribe(data => {\n      this.vacancies = this.vacancies.filter(vacancy => vacancy.id !== vacancy_id);\n    });\n  }\n}\nVacanciesComponent.ɵfac = function VacanciesComponent_Factory(t) {\n  return new (t || VacanciesComponent)(i0.ɵɵdirectiveInject(i1.VacancyService));\n};\nVacanciesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: VacanciesComponent,\n  selectors: [[\"app-vacancies\"]],\n  decls: 8,\n  vars: 1,\n  consts: [[1, \"header\"], [\"src\", \"/assets/logo.jpg\", \"id\", \"logo\"], [\"href\", \"http://127.0.0.1:8000/api/create?type=vacancy\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"]],\n  template: function VacanciesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"img\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"h1\");\n      i0.ɵɵtext(3, \"Vacancy list\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"a\", 2);\n      i0.ɵɵtext(5, \"Create Vacancy\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"ul\");\n      i0.ɵɵtemplate(7, VacanciesComponent_li_7_Template, 4, 2, \"li\", 3);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngForOf\", ctx.vacancies);\n    }\n  },\n  dependencies: [i2.NgForOf],\n  styles: [\"*[_ngcontent-%COMP%]{\\r\\n  margin:0;\\r\\n  padding:0;\\r\\n  box-sizing:border-box;\\r\\n  \\r\\n  list-style-type: none;\\r\\n  font-family: 'Alegreya';\\r\\n\\r\\n}\\r\\n#logo[_ngcontent-%COMP%]{\\r\\n  width:170px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdmFjYW5jaWVzL3ZhY2FuY2llcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsUUFBUSxDQUFDLHVDQUF1QztFQUNoRCxTQUFTO0VBQ1QscUJBQXFCLENBQUM7Ozs7OztzQ0FNYztFQUNwQyx3QkFBd0I7RUFDeEIscUJBQXFCO0VBQ3JCLHVCQUF1Qjs7QUFFekI7QUFDQTtFQUNFLFdBQVc7QUFDYiIsInNvdXJjZXNDb250ZW50IjpbIip7XHJcbiAgbWFyZ2luOjA7LypvdmVyYWxsIG1hcmdpbiBvZiAwIGZvciB0aGUgZG9jdW1lbnQqL1xyXG4gIHBhZGRpbmc6MDtcclxuICBib3gtc2l6aW5nOmJvcmRlci1ib3g7LyogLiBJdCBndWFyYW50ZWVzIHRoYXQgdGhlIGNvbnRlbnQgYm94XHJcbiAgICAgc2hyaW5rcyB0byBtYWtlIHNwYWNlIGZvciB0aGUgcGFkZGluZ1xyXG5cclxuICAgICBhbmQgYm9yZGVycy4gVGhlcmVmb3JlLCBpZiB5b3Ugc2V0IHlvdXJcclxuICAgICAgZWxlbWVudCB3aWR0aCB0byAyMDAgcGl4ZWxzLCBib3JkZXItYm94XHJcbiAgICAgIG1ha2VzIHN1cmUgdGhhdCB0aGUgY29udGVudCwgcGFkZGluZyxcclxuICAgICAgYW5kIGJvcmRlcnMgZml0IGluIHRoaXMgbnVtYmVyLiovXHJcbiAgLypib3JkZXI6cmVkIHNvbGlkIDFweDsqL1xyXG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcclxuICBmb250LWZhbWlseTogJ0FsZWdyZXlhJztcclxuXHJcbn1cclxuI2xvZ297XHJcbiAgd2lkdGg6MTcwcHg7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;IAYEA,0BAAsC;IACpCA,YAAkC;IAAAA,iCAA4C;IAApCA;MAAA;MAAA;MAAA;MAAA,OAASA,kDAAyB;IAAA,EAAC;IAACA,iBAAC;IAAAA,iBAAS;;;;IAAxFA,eAAkC;IAAlCA,sEAAkC;;;ACJtC,OAAM,MAAOC,kBAAkB;EAM7BC,YAAoBC,OAAuB;IAAvB,YAAO,GAAPA,OAAO;IAL3B,cAAS,GAAc,EAEtB;IACD,eAAU,GAAQ,EAAE;EAIpB;EACAC,QAAQ;IACN,IAAI,CAACD,OAAO,CAACE,YAAY,EAAE,CAACC,SAAS,CAAEC,SAAS,IAAG;MACjD,IAAI,CAACA,SAAS,GAAGA,SAAS;MAC1BC,OAAO,CAACC,GAAG,CAACF,SAAS,CAAC;IACxB,CAAC,CAAC;EACJ;EAEAG,UAAU;IACR,IAAI,IAAI,CAACC,UAAU,CAACC,MAAM,EAAE;MACxB,IAAI,CAACT,OAAO,CAACU,aAAa,CAAC,IAAI,CAACF,UAAU,CAAC,CAACL,SAAS,CAAEQ,OAAO,IAAI;QAClE,IAAI,CAACP,SAAS,CAACQ,IAAI,CAACD,OAAO,CAAC;QAC5B,IAAI,CAACH,UAAU,GAAG,EAAE;MACtB,CAAC,CAAC;;EAEN;EAEAK,aAAa,CAACC,UAAiB;IAE7B,IAAI,CAACd,OAAO,CAACa,aAAa,CAACC,UAAU,CAAC,CAACX,SAAS,CAAEY,IAAI,IAAG;MACvD,IAAI,CAACX,SAAS,GAAC,IAAI,CAACA,SAAS,CAACY,MAAM,CAAEL,OAAO,IAAGA,OAAO,CAACM,EAAE,KAAGH,UAAU,CAAC;IAC1E,CAAC,CAAC;EACJ;;AA9BWhB,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;QAAlBA,kBAAkB;EAAAoB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDT/BzB,8BAAoB;MAClBA,yBAAsC;MACxCA,iBAAM;MACNA,0BAAI;MAAAA,4BAAY;MAAAA,iBAAK;MACrBA,4BAAwD;MAAAA,8BAAc;MAAAA,iBAAI;MAO1EA,0BAAI;MACFA,iEAEK;MACPA,iBAAK;;;MAHqBA,eAAY;MAAZA,uCAAY","names":["i0","VacanciesComponent","constructor","service","ngOnInit","getVacancies","subscribe","vacancies","console","log","addVacancy","newVacancy","length","createVacancy","vacancy","push","deleteVacancy","vacancy_id","data","filter","id","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\Other\\WebDev\\hhfront\\src\\app\\vacancies\\vacancies.component.html","D:\\Other\\WebDev\\hhfront\\src\\app\\vacancies\\vacancies.component.ts"],"sourcesContent":["<div class=\"header\">\n  <img src=\"/assets/logo.jpg\" id=\"logo\">\n</div>\n<h1>Vacancy list</h1>\n<a href=\"http://127.0.0.1:8000/api/create?type=vacancy\">Create Vacancy</a>\n<!--<fieldset>-->\n<!--  <label>Vacancy name:</label>-->\n<!--  <input type=\"text\" [(ngModel)]=\"newVacancy\">-->\n<!--  <button (click)=\"addVacancy()\">Add vacancy</button>-->\n<!--</fieldset>-->\n\n<ul>\n  <li *ngFor=\"let vacancy of vacancies\">\n    {{vacancy.id}} - {{vacancy.name}} <button (click)=\"deleteVacancy(vacancy.id)\">X</button>\n  </li>\n</ul>\n\n\n\n","import { Component, OnInit } from '@angular/core';\nimport { Vacancy } from '../models';\nimport { VacancyService } from '../vacancy.service';\n\n@Component({\n  selector: 'app-vacancies',\n  templateUrl: './vacancies.component.html',\n  styleUrls: ['./vacancies.component.css']\n})\nexport class VacanciesComponent implements OnInit {\n  vacancies: Vacancy[] = [\n\n  ];\n  newVacancy:string=\"\";\n\n  constructor(private service: VacancyService){\n\n  }\n  ngOnInit(): void{\n    this.service.getVacancies().subscribe((vacancies)=>{\n      this.vacancies = vacancies\n      console.log(vacancies)\n    })\n  }\n\n  addVacancy() {\n    if (this.newVacancy.length) {\n        this.service.createVacancy(this.newVacancy).subscribe((vacancy) => {\n        this.vacancies.push(vacancy);\n        this.newVacancy = '';\n      });\n    }\n  }\n\n  deleteVacancy(vacancy_id:number)\n  {\n    this.service.deleteVacancy(vacancy_id).subscribe((data)=>{\n      this.vacancies=this.vacancies.filter((vacancy)=>vacancy.id!==vacancy_id);\n    });\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}